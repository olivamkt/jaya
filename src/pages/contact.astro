---
import Layout from '@/layouts/Layout.astro'
import { actions } from 'astro:actions'

export const prerender = false // This page will be SSR (required for Actions)

// Get the result of the action if it was called
const result = Astro.getActionResult(actions.send)
---

<style>
	@reference '@/styles/global.css';

	.contact-main {
		@apply bg-neutral-light;
		@apply pb-16;
		@apply min-h-screen;

		.title {
			@apply text-primary;
			@apply text-8xl;
			@apply text-center;
			@apply mt-22 mb-16;
		}

		.content-section {
			@apply flex flex-col lg:flex-row;
			@apply gap-16;
			@apply px-10;

			.text-column {
				@apply w-full lg:w-1/2;

				.contact-text {
					@apply max-w-[450px];
					@apply space-y-6;

					h2 {
						@apply text-gray-900;
						@apply font-bold;
						@apply leading-tight;
						@apply mb-6;
					}

					p {
						@apply text-gray-700;
						@apply leading-relaxed;
					}

					.contact-info {
						@apply mt-8;

						.email-link {
							@apply block;
							@apply font-semibold;
							@apply mb-6;
						}

						.contact-details {
							@apply space-y-4;

							.location {
								p {
									@apply text-gray-800;
									@apply mb-1;

									strong {
										@apply text-gray-900;
										@apply font-bold;
									}
								}
							}
						}
					}
				}
			}

			.form-column {
				@apply w-full lg:w-1/2;

				.contact-form {
					@apply space-y-6;

					.form-group {
						@apply space-y-2;

						label {
							@apply block;
							@apply text-gray-700;
							@apply font-medium;
							@apply text-sm;
							@apply lowercase;
						}

						input,
						textarea {
							@apply w-full;
							@apply bg-transparent;
							@apply text-gray-900;
							@apply text-base;
							@apply border-0;
							@apply border-b-2;
							@apply border-gray-300;
							@apply rounded-none;
							@apply ring-0;
							@apply px-0;
							@apply py-3;
						}

						textarea {
							@apply min-h-[120px];
							@apply resize-y;
							resize: vertical;
						}
					}

					.btn-submit {
						@apply flex;
						@apply text-center;
						@apply text-primary-light;
						@apply border-primary-light;
						@apply max-w-[420px];
						@apply rounded-full;
						@apply btn btn-outline btn-primary rounded-full;
					}

					.form-message {
						@apply mt-4;
						@apply p-4;
						@apply rounded-lg;
						@apply text-sm;
					}

					.form-message.success {
						@apply bg-green-100;
						@apply text-green-800;
						@apply border border-green-300;
					}

					.form-message.error {
						@apply bg-red-100;
						@apply text-red-800;
						@apply border border-red-300;
					}
				}
			}
		}
	}
</style>

<Layout
	title={'Contact'}
	description={'Get in touch with Jaya Tech to discuss your project and transform your ideas into reality.'}
>
	<main class="nav-padding contact-main">
		<div class="contact-hero-section">
			<div class="container">
				<h1 class="title"><b>let's</b><i>talk</i></h1>

				<div class="content-section">
					<div class="text-column">
						<div class="contact-text">
							<h2>Tell us about your project, your challenge, or your next big idea.</h2>
							<p>
								We're here to listen, think with you, and help turn it into something real. Once you
								send your message, know that it truly matters to us.
							</p>
							<p>
								Our team will get back to you within one business day. And don't worry, we'll never
								share your personal information with third parties.
							</p>

							<div class="contact-info">
								<a href="mailto:contact@jaya.tech" class="email-link">contact@jaya.tech</a>

								<div class="contact-details">
									<div class="location">
										<p><strong>Austin, TX - USA</strong></p>
										<p>+1 (512) 555-1212</p>
									</div>
									<div class="location">
										<p><strong>SÃ£o Paulo, SP - Brazil</strong></p>
										<p>+55(11) 333-1212</p>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="form-column">
						<form class="contact-form" action={actions.send} method="POST">
							{result && result.error && (
								<div class="form-message error">
									{result.error.message || 'Failed to send message. Please try again.'}
								</div>
							)}
							{result && result.data && (
								<div class="form-message success">
									Thank you! Your message has been sent successfully. We'll get back to you soon.
								</div>
							)}

							<div class="form-group">
								<label for="name">name</label>
								<input type="text" id="name" name="name" required />
							</div>

							<div class="form-group">
								<label for="email">e-mail</label>
								<input type="email" id="email" name="email" required />
							</div>

							<div class="form-group">
								<label for="message">tell us about our project</label>
								<textarea id="message" name="message" rows="6" required></textarea>
							</div>

							<button type="submit" class="btn-submit">Send Message</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</main>
</Layout>
