---
import { withBase } from '@/utils/url'
import { getTranslations, t } from '@/i18n/translations'
import { getLocale, getLocalizedPath } from '@/i18n/utils'

const locale = getLocale(Astro)
const translations = await getTranslations(locale)
---

<style>
	@reference '@/styles/global.css';
	.hero-section {
		@apply max-h-[925px];
		overflow: hidden;

		.text-box {
			@apply relative;

			&::before {
				@apply absolute;
				@apply top-0 right-0;
				@apply h-full w-[50dvw];
				@apply bg-blue-light;
				content: '';
			}

			.text-box-container {
				@apply relative z-10;
				@apply px-10;

				h1 {
					@apply mb-16;
					@apply text-3xl text-white;
				}

				h2 {
					@apply text-primary text-xl;
				}

				.btn-get-in-touch {
					@apply btn btn-outline;
					@apply mt-18;
					@apply text-white;
				}
			}
		}

		.video-box-container {
			@apply h-full w-[50dvw];

			& div {
				@apply absolute;
				@apply top-0 left-0;
				@apply h-full w-[50dvw];
				overflow: hidden;
			}

			video {
				@apply h-full w-full;
				@apply object-cover object-center;
			}
		}
	}
</style>

<div class="hero-section">
	<div class="container">
		<div class="flex">
			<div class="text-box w-1/2 pt-[210px]">
				<div class="text-box-container">
					<h1>
						<Fragment set:html={t(translations, 'about.hero.titleHtml')} />
					</h1>

					<h2>
						<Fragment set:html={t(translations, 'about.hero.subtitleHtml')} />
					</h2>
					<a href={withBase(getLocalizedPath('contact', locale))} class="btn-get-in-touch">
						{t(translations, 'about.hero.cta')}
					</a>
				</div>
			</div>
			<div class="image-box relative w-1/2">
				<div class="video-box-container">
					<video autoplay class="video-box" controls={false} loop muted playsinline>
						<source src="https://pixy-project.vercel.app/api/media/file/video-2.mp4" />
					</video>
				</div>
			</div>
		</div>
		<div class="h-[815px]">conteudo</div>
	</div>
</div>
