---
import heroLeftImg from '@/assets/home/hero-left.png'
import heroRightImg from '@/assets/home/hero-right.png'
import { Image } from 'astro:assets'
import { withBase } from '@/utils/url'
import { getTranslations, t } from '@/i18n/translations'
import { getLocale, getLocalizedPath } from '@/i18n/utils'

const locale = getLocale(Astro)
const translations = await getTranslations(locale)
---

<style>
	@reference '@/styles/global.css';

	.hero-section {
		@apply relative;
		@apply px-10 py-20 lg:px-0;
		@apply overflow-hidden;

		.hero-text {
			@apply max-w-[450px];
			@apply mx-auto;
			@apply text-primary text-center text-5xl leading-[0.9] tracking-[-2px];

			.slide-from-left {
				animation: slideFromLeft 2s forwards;
			}

			.slide-from-right {
				animation: slideFromRight 2s forwards;
			}
		}

		.hero-description {
			@apply max-w-[800px] lg:max-w-[520px];
			@apply mx-auto my-20;
			@apply text-text-dark text-center leading-[1.58] normal-case;
		}

		.hero-left-image {
			@apply absolute hidden lg:block;
			@apply top-[35%] left-[-100px];
			@apply h-[260px] w-[275px];
			animation: slideInFromRight 2s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
		}

		.hero-right-image {
			@apply absolute hidden lg:block;
			@apply top-[20%] right-[-100px];
			@apply h-[260px] w-[275px];
			animation: slideInFromLeft 2s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
		}

		.statistics-section {
			@apply flex flex-col items-center justify-center md:flex-row;
			@apply mx-auto mt-10 mb-25;
			@apply gap-10 lg:gap-25;

			.statistic-item {
				@apply flex items-end;
				@apply gap-1;
				@apply w-[200px] md:w-auto;
			}

			.statistic-number-container {
				@apply relative;
				@apply h-[90px] w-[90px] min-w-[90px];
				@apply bg-primary;
				@apply rounded-tl-[30%] rounded-br-[30%];
				@apply text-body;

				&::before {
					@apply absolute;
					@apply text-primary;
					@apply text-4xl font-bold;
					@apply w-[60px];
					@apply -bottom-[8px] -left-[20px];
					content: '+';
				}
			}

			.statistic-number {
				@apply absolute;
				@apply text-5xl font-bold;
				@apply tracking-[-4px];
				@apply bottom-[-6px] left-0;
			}

			.statistic-text {
				@apply text-primary;
				@apply normal-case italic;
				/* @apply mt-10 ml-1; */
			}
		}

		.contact-button {
			@apply text-center;
			@apply max-w-[420px];
			@apply mx-auto;
			@apply btn btn-outline;
			@apply border-primary-light;
			@apply text-primary-light;
		}
	}
</style>

<section class="hero-section">
	<div class="relative container">
		<div class="hero-text">
			<div class="slide-from-left"><b>{t(translations, 'home.hero.title1')}</b></div>
			<div class="slide-from-right"><i>{t(translations, 'home.hero.title2')}</i></div>
		</div>

		<div class="hero-description">
			<Fragment set:html={t(translations, 'home.hero.description')} />
		</div>

		<Image
			src={heroLeftImg}
			alt="Hero left illustration showing collaborative team work"
			class="hero-left-image"
		/>
		<Image
			src={heroRightImg}
			alt="Hero right illustration showing technology solutions"
			class="hero-right-image"
		/>

		<div class="statistics-section">
			<div class="statistic-item">
				<div class="statistic-number-container">
					<div class="statistic-number">9</div>
				</div>
				<div class="statistic-text">
					<Fragment set:html={t(translations, 'home.hero.stat1')} />
				</div>
			</div>
			<div class="statistic-item">
				<div class="statistic-number-container">
					<div class="statistic-number">14</div>
				</div>
				<div class="statistic-text">
					<Fragment set:html={t(translations, 'home.hero.stat2')} />
				</div>
			</div>
			<div class="statistic-item">
				<div class="statistic-number-container">
					<div class="statistic-number">100</div>
				</div>
				<div class="statistic-text">
					<Fragment set:html={t(translations, 'home.hero.stat3')} />
				</div>
			</div>
		</div>

		<a href={withBase(getLocalizedPath('contact', locale))} class="contact-button">
			{t(translations, 'home.hero.cta')}
		</a>
	</div>
</section>
